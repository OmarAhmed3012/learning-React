{"version":3,"sources":["components/navbar.jsx","components/home.jsx","components/product.jsx","components/shoppingCart.jsx","components/productDetails.jsx","components/notFound.jsx","components/cart.jsx","components/menu.jsx","components/login.jsx","components/admin.jsx","components/productform.jsx","components/app.jsx","index.js"],"names":["NavBar","props","className","to","id","style","color","productsCount","Home","state","Component","Product","this","product","count","console","log","name","getClasses","onClick","onIncrement","cursor","onDelete","ShoppingCart","Fragment","onReset","products","map","key","ProductDetails","handleSave","history","replace","result","qs","parse","location","search","filter","c","parseInt","match","params","NotFound","Cart","isInCart","Menu","price","Login","username","password","errors","schema","Joi","string","required","handleSubmit","e","preventDefault","validate","res","abortEarly","error","setState","details","path","message","handleChange","currentTarget","value","onSubmit","htmlFor","onChange","autoFocus","type","Admin","push","ProductForm","a","obj","axios","post","patch","get","data","App","handelDelete","oldProducts","newProducts","p","delete","alert","handleEdit","handleReset","incrementHandler","index","indexOf","handleInCartChange","length","render","component","exact","onEdit","from","ReactDOM","document","querySelector"],"mappings":"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","file":"static/js/main.5b97ef26.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nimport { Link, NavLink } from \"react-router-dom\";\r\n\r\nconst NavBar = (props) => {\r\n  return (\r\n    <nav className=\"navbar navbar-expand-lg navbar-dark bg-dark\">\r\n      <NavLink className=\"navbar-brand\" to=\"/home\">\r\n        Navbar\r\n      </NavLink>\r\n      <div className=\"collapse navbar-collapse\" id=\"navbarNav\">\r\n        <ul className=\"navbar-nav\">\r\n          <li className=\"nav-item\">\r\n            <NavLink className=\"nav-link\" to=\"/menu\">\r\n              Menu\r\n            </NavLink>\r\n          </li>\r\n          <li className=\"nav-item\">\r\n            <NavLink className=\"nav-link\" to=\"/cart\">\r\n              Shopping Cart\r\n            </NavLink>\r\n          </li>\r\n          <li className=\"nav-item\">\r\n            <NavLink className=\"nav-link\" to=\"/admin\">\r\n              Admin\r\n            </NavLink>\r\n          </li>\r\n          <li className=\"nav-item\">\r\n            <NavLink className=\"nav-link\" to=\"/login\">\r\n              Login\r\n            </NavLink>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n      <Link to=\"/cart\">\r\n        <span className=\"badge badge-primary\">\r\n          <i style={{ color: \"white\" }} className=\"fas fa-cart-plus\"></i>\r\n          {props.productsCount}\r\n        </span>\r\n      </Link>{\" \"}\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default NavBar;\r\n","import React, { Component } from \"react\";\r\n\r\nclass Home extends Component {\r\n  state = {};\r\n  render() {\r\n    return <h1>Home</h1>;\r\n  }\r\n}\r\n\r\nexport default Home;\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass Product extends Component {\r\n  getClasses() {\r\n    return this.props.product.count === 0\r\n      ? \"badge badge-warning m-2\"\r\n      : \"badge badge-primary m-2\";\r\n  }\r\n\r\n  render() {\r\n    console.log(\"Product render\");\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col-2\">\r\n          <span className=\"\">\r\n            <Link to={`/products/${this.props.product.id}`}>\r\n              {this.props.product.name}\r\n            </Link>\r\n          </span>\r\n        </div>\r\n        <div className=\"col\">\r\n          <span className={this.getClasses()}>{this.props.product.count}</span>\r\n          <button\r\n            className=\"btn btn-primary btn-sm\"\r\n            onClick={() => this.props.onIncrement(this.props.product)}\r\n          >\r\n            +\r\n          </button>\r\n          <span\r\n            style={{ cursor: \"pointer\" }}\r\n            onClick={() => this.props.onDelete(this.props.product)}\r\n          >\r\n            <i className=\"fas fa-trash m-2\"></i>\r\n          </span>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Product;\r\n","import React, { Component } from \"react\";\r\nimport Product from \"./product\";\r\n\r\nclass ShoppingCart extends Component {\r\n  constructor(props) {\r\n    super();\r\n    console.log(\"Shopping cart constructor\");\r\n  }\r\n\r\n  componentDidMount() {\r\n    console.log(\"shopping cart component did mount\");\r\n  }\r\n\r\n  render() {\r\n    //  const { onReset, onDelete, onIncrement, products } = this.props;\r\n    return (\r\n      <React.Fragment>\r\n        <h1>Shopping cart</h1>\r\n        <button className=\"btn btn-secondary m-2\" onClick={this.props.onReset}>\r\n          Reset\r\n        </button>\r\n        {this.props.products.map((product) => (\r\n          <Product\r\n            key={product.id}\r\n            product={product}\r\n            onDelete={this.props.onDelete}\r\n            onIncrement={this.props.onIncrement}\r\n          />\r\n        ))}\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ShoppingCart;\r\n","import React, { Component } from \"react\";\r\nimport qs from \"query-string\";\r\n\r\nclass ProductDetails extends Component {\r\n  handleSave = () => {\r\n    this.props.history.replace(\"/cart\");\r\n  };\r\n\r\n  render() {\r\n    const result = qs.parse(this.props.location.search);\r\n\r\n    console.log(result);\r\n\r\n    const product = this.props.products.filter(\r\n      (c) => c.id === parseInt(this.props.match.params.id)\r\n    )[0];\r\n    return (\r\n      <React.Fragment>\r\n        <h1>Details No. {this.props.match.params.id}</h1>\r\n        <h2>{product.name}</h2>\r\n        <h2>Count in Shopping Cart: {product.count}</h2>\r\n\r\n        <button onClick={this.handleSave} className=\"btn btn-primary btn-sm\">\r\n          Save\r\n        </button>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ProductDetails;\r\n","import React from \"react\";\r\n\r\nconst NotFound = () => {\r\n  return <h1>Page Not Found!</h1>;\r\n};\r\n\r\nexport default NotFound;\r\n","import React from \"react\";\r\n\r\nconst Cart = (props) => {\r\n  const style = !props.product.isInCart\r\n    ? { color: \"#80808080\", cursor: \"pointer\" }\r\n    : { cursor: \"pointer\" };\r\n  return (\r\n    <i\r\n      style={style}\r\n      onClick={() => props.onClick(props.product)}\r\n      className=\"fas fa-cart-plus\"\r\n    ></i>\r\n  );\r\n};\r\n\r\nexport default Cart;\r\n","import React from \"react\";\r\nimport Cart from \"./cart\";\r\n\r\n//1. Component\r\nconst Menu = (props) => {\r\n  return (\r\n    <React.Fragment>\r\n      <h1>Menu</h1>\r\n      <table className=\"table\">\r\n        <thead>\r\n          <tr>\r\n            <th>Name</th>\r\n            <th>Price</th>\r\n            <th></th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {props.products.map((product) => (\r\n            <tr key={product.id}>\r\n              <td>{product.name}</td>\r\n              <td>{product.price}</td>\r\n              <td>\r\n                <Cart onClick={props.onClick} product={product} />\r\n              </td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default Menu;\r\n","import React, { Component } from \"react\";\r\n\r\nimport Joi from \"joi-browser\";\r\n\r\nclass Login extends Component {\r\n  state = {\r\n    username: \"\",\r\n    password: \"\",\r\n    errors: {},\r\n  };\r\n\r\n  schema = {\r\n    username: Joi.string().required(),\r\n    password: Joi.string().required(),\r\n  };\r\n\r\n  //   componentDidMount() {\r\n  //     this.username.current.focus();\r\n  //   }\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    const errors = this.validate();\r\n\r\n    if (errors) return;\r\n\r\n    //Call Backend\r\n    console.log(\"submit\");\r\n  };\r\n\r\n  validate = () => {\r\n    const errors = {};\r\n    //Clone State\r\n    const state = { ...this.state };\r\n    delete state.errors;\r\n    const res = Joi.validate(state, this.schema, { abortEarly: false });\r\n    if (res.error === null) {\r\n      this.setState({ errors: {} });\r\n      return null;\r\n    }\r\n\r\n    for (const error of res.error.details) {\r\n      errors[error.path] = error.message;\r\n    }\r\n\r\n    //Set State\r\n    this.setState({ errors });\r\n    return errors;\r\n  };\r\n\r\n  handleChange = (e) => {\r\n    //Clone\r\n    let state = { ...this.state };\r\n    //Edit\r\n    state[e.currentTarget.name] = e.currentTarget.value;\r\n    //Set state\r\n    this.setState(state);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <h1>Login</h1>\r\n        <form onSubmit={this.handleSubmit}>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"username\">Username</label>\r\n            <input\r\n              name=\"username\"\r\n              value={this.state.username}\r\n              onChange={this.handleChange}\r\n              autoFocus\r\n              id=\"username\"\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n            />\r\n            {this.state.errors.username && (\r\n              <div className=\"alert alert-danger\">\r\n                {this.state.errors.username}\r\n              </div>\r\n            )}\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"password\">Password</label>\r\n            <input\r\n              name=\"password\"\r\n              value={this.state.password}\r\n              onChange={this.handleChange}\r\n              id=\"password\"\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n            />\r\n            {this.state.errors.password && (\r\n              <div className=\"alert alert-danger\">\r\n                {this.state.errors.password}\r\n              </div>\r\n            )}\r\n          </div>\r\n          <button type=\"submit\" className=\"btn btn-primary\">\r\n            Submit\r\n          </button>\r\n        </form>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Login;\r\n","import React, { Component } from \"react\";\r\n\r\nclass Admin extends Component {\r\n  render() {\r\n    const { products, onDelete } = this.props;\r\n    return (\r\n      <React.Fragment>\r\n        <h1>Admin</h1>\r\n        <button\r\n          onClick={() => this.props.history.push(\"/productform/new\")}\r\n          className=\"btn btn-primary\"\r\n        >\r\n          Add\r\n        </button>\r\n        <table className=\"table\">\r\n          <thead>\r\n            <tr>\r\n              <th>Name</th>\r\n              <th>Price</th>\r\n              <th></th>\r\n              <th></th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {products.map((product) => (\r\n              <tr key={product.id}>\r\n                <td>{product.name}</td>\r\n                <td>{product.price}</td>\r\n                <td>\r\n                  <i\r\n                    onClick={() =>\r\n                      this.props.history.push(`/productform/${product.id}`)\r\n                    }\r\n                    className=\"fas fa-edit\"\r\n                  ></i>\r\n                </td>\r\n                <td>\r\n                  <i\r\n                    onClick={() => onDelete(product)}\r\n                    className=\"fas fa-trash\"\r\n                  ></i>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Admin;\r\n","import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nclass ProductForm extends Component {\r\n  state = { id: \"\", name: \"\", price: \"\" };\r\n\r\n  async componentDidMount() {\r\n    const id = this.props.match.params.id;\r\n    if (id !== \"new\") {\r\n      const { data } = await axios.get(\r\n        \"https://iti-react-cource.herokuapp.com/products\" + id\r\n      );\r\n      //Clone\r\n      const state = { ...this.state };\r\n      //Edit\r\n      state.name = data.name;\r\n      state.price = data.price;\r\n      state.id = data.id;\r\n      //Set state\r\n      this.setState(state);\r\n    }\r\n  }\r\n\r\n  handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (this.props.match.params.id === \"new\") {\r\n      const obj = { ...this.state, count: 0, isInCart: false };\r\n      await axios.post(\"https://iti-react-cource.herokuapp.com/products\", obj);\r\n    } else {\r\n      const obj = { ...this.state, count: 0, isInCart: false };\r\n\r\n      delete obj.id;\r\n      await axios.patch(\r\n        \"https://iti-react-cource.herokuapp.com/products\" + this.state.id,\r\n        obj\r\n      );\r\n    }\r\n\r\n    this.props.history.replace(\"/admin\");\r\n  };\r\n\r\n  handleChange = (e) => {\r\n    //Clone\r\n    let state = { ...this.state };\r\n    //Edit\r\n    state[e.currentTarget.name] = e.currentTarget.value;\r\n    //Set state\r\n    this.setState(state);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <h1>\r\n          {this.props.match.params.id === \"new\"\r\n            ? \"Add Product\"\r\n            : \"Edit Product\"}\r\n        </h1>\r\n        <form onSubmit={this.handleSubmit}>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"name\">Name</label>\r\n            <input\r\n              className=\"form-control\"\r\n              onChange={this.handleChange}\r\n              value={this.state.name}\r\n              id=\"name\"\r\n              name=\"name\"\r\n              type=\"text\"\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"price\">Price</label>\r\n            <input\r\n              className=\"form-control\"\r\n              onChange={this.handleChange}\r\n              value={this.state.price}\r\n              id=\"price\"\r\n              name=\"price\"\r\n              type=\"text\"\r\n            />\r\n          </div>\r\n          <button type=\"submit\" className=\"btn btn-primary\">\r\n            {this.props.match.params.id === \"new\" ? \"Add\" : \"Edit\"}\r\n          </button>\r\n        </form>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ProductForm;\r\n","import React, { Component } from \"react\";\r\nimport NavBar from \"./navbar\";\r\nimport axios from \"axios\";\r\n//import ShoppingCart from './shoppingCart';\r\nimport { Redirect, Route, Switch } from \"react-router-dom\";\r\n//import About from \"./about\";\r\n//import Contact from \"./contact\";\r\nimport Home from \"./home\";\r\nimport ShoppingCart from \"./shoppingCart\";\r\nimport ProductDetails from \"./productDetails\";\r\nimport NotFound from \"./notFound\";\r\nimport Menu from \"./menu\";\r\nimport Login from \"./login\";\r\nimport Admin from \"./admin\";\r\nimport ProductForm from \"./productform\";\r\n\r\nclass App extends Component {\r\n  state = {\r\n    products: [],\r\n  };\r\n\r\n  async componentDidMount() {\r\n    const { data } = await axios.get(\r\n      \"https://iti-react-cource.herokuapp.com/products\"\r\n    );\r\n    this.setState({ products: data });\r\n  }\r\n\r\n  handelDelete = async (product) => {\r\n    const oldProducts = [...this.state.products];\r\n    const newProducts = this.state.products.filter((p) => p.id !== product.id);\r\n\r\n    this.setState({ products: newProducts });\r\n    try {\r\n      await axios.delete(\r\n        \"https://iti-react-cource.herokuapp.com/products\" + product.id\r\n      );\r\n    } catch (ex) {\r\n      alert(\"Cant delete\");\r\n      this.setState({ products: oldProducts });\r\n    }\r\n  };\r\n\r\n  handleEdit = () => {\r\n    console.log(\"edit\");\r\n  };\r\n\r\n  handleReset = () => {\r\n    let products = [...this.state.products];\r\n    products = products.map((p) => {\r\n      p.count = 0;\r\n      return p;\r\n    });\r\n    this.setState({ products });\r\n  };\r\n\r\n  incrementHandler = (product) => {\r\n    const products = [...this.state.products];\r\n    const index = products.indexOf(product);\r\n    products[index] = { ...products[index] };\r\n    //Edit\r\n    products[index].count++;\r\n    //Set State\r\n    this.setState({ products });\r\n  };\r\n\r\n  handleInCartChange = (product) => {\r\n    const products = [...this.state.products];\r\n    const index = products.indexOf(product);\r\n    products[index] = { ...products[index] };\r\n\r\n    products[index].isInCart = !products[index].isInCart;\r\n\r\n    this.setState({ products });\r\n  };\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <NavBar\r\n          productsCount={this.state.products.filter((p) => p.count > 0).length}\r\n        ></NavBar>\r\n        <main className=\"container\">\r\n          <Switch>\r\n            <Route\r\n              path=\"/products/:id/:name?\"\r\n              render={(props) => (\r\n                <ProductDetails products={this.state.products} {...props} />\r\n              )}\r\n            />\r\n            <Route\r\n              path=\"/cart\"\r\n              render={(props) => (\r\n                <ShoppingCart\r\n                  products={this.state.products.filter((p) => p.isInCart)}\r\n                  onIncrement={this.incrementHandler}\r\n                  onDelete={this.handleInCartChange}\r\n                  onReset={this.handleReset}\r\n                  {...props}\r\n                />\r\n              )}\r\n            />\r\n            <Route path=\"/notfound\" component={NotFound} />\r\n            {/* //2. Add Route */}\r\n            <Route\r\n              path=\"/menu\"\r\n              render={(props) => (\r\n                <Menu\r\n                  {...props}\r\n                  products={this.state.products}\r\n                  onClick={this.handleInCartChange}\r\n                />\r\n              )}\r\n            />\r\n            <Route path=\"/home\" exact component={Home} />\r\n            <Route\r\n              path=\"/admin\"\r\n              render={(props) => (\r\n                <Admin\r\n                  {...props}\r\n                  products={this.state.products}\r\n                  onDelete={this.handelDelete}\r\n                  onEdit={this.handleEdit}\r\n                />\r\n              )}\r\n            />\r\n            <Route path=\"/login\" component={Login} />\r\n            <Route path=\"/productform/:id\" component={ProductForm} />\r\n            <Redirect from=\"/\" to=\"/home\" />\r\n            <Redirect to=\"/notfound\" />\r\n          </Switch>\r\n          {/*<ShoppingCart\r\n                        products={this.state.products}\r\n                        onIncrement={this.incrementHandler}\r\n                        onDelete={this.handelDelete}\r\n                        onReset={this.handleReset}\r\n                        ></ShoppingCart>*/}\r\n        </main>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\n//import Product from './product'\r\nimport \"../node_modules/bootstrap/dist/css/bootstrap.css\";\r\nimport \"../node_modules/@fortawesome/fontawesome-free/css/all.css\";\r\n//import ShoppingCart from './components/shoppingCart';\r\nimport App from \"./components/app\";\r\nimport \"./style.css\";\r\n\r\nReactDOM.render(\r\n  <BrowserRouter>\r\n    <App></App>\r\n  </BrowserRouter>,\r\n  document.querySelector(\"#root\")\r\n);\r\n"],"sourceRoot":""}